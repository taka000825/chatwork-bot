name: Chatwork Auto Message

on:
  schedule:
    - cron: "0 4 1 * *"  # æ¯Žæœˆ1æ—¥13:00ï¼ˆUTCæ™‚é–“ãªã®ã§-9æ™‚é–“ï¼‰

jobs:
  run-script:
    runs-on: ubuntu-latest
    steps:
      - name: ãƒªãƒã‚¸ãƒˆãƒªã‚’å–å¾—
        uses: actions/checkout@v3

      - name: Pythonã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        uses: actions/setup-python@v3
        with:
          python-version: '3.x'

      - name: å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
        run: pip install requests schedule

      - name: ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼ˆChatwork APIã‚­ãƒ¼ï¼‰
        run: echo "API_TOKEN=${{ secrets.CHATWORK_API_KEY }}" >> $GITHUB_ENV

      - name: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
        run: python chatwork_scheduler.py
name: Chatwork Auto Message

on:
  workflow_dispatch:  # ðŸ”¹ æ‰‹å‹•å®Ÿè¡Œã‚’æœ‰åŠ¹åŒ–ï¼
  schedule:
    - cron: "0 4 1 * *"  # æ¯Žæœˆ1æ—¥13:00ï¼ˆUTCæ™‚é–“ãªã®ã§-9æ™‚é–“ï¼‰

jobs:
  run-script:
    runs-on: ubuntu-latest
    steps:
      - name: ãƒªãƒã‚¸ãƒˆãƒªã‚’å–å¾—
        uses: actions/checkout@v3

      - name: Pythonã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
        uses: actions/setup-python@v3
        with:
          python-version: '3.x'

      - name: å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
        run: pip install requests schedule

      - name: ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼ˆChatwork APIã‚­ãƒ¼ï¼‰
        run: echo "API_TOKEN=${{ secrets.CHATWORK_API_KEY }}" >> $GITHUB_ENV

      - name: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
        run: python schedule_chatwork.py
